{"version":3,"file":"component---src-pages-index-js-6b825f835c9ed9c86dff.js","mappings":"0OAiCA,MAvBA,YAA6B,IAATA,EAAQ,EAARA,KACZC,EAAQD,EAAKE,kBAAkBC,MAAMC,KAAI,gBAAGC,EAAH,EAAGA,KAAH,OAAc,IAAIC,EAAAA,EAAKD,EAAxD,IACd,EAA6BL,EAAKO,KAAKC,aAA/BC,EAAR,EAAQA,OAAQC,EAAhB,EAAgBA,SACVC,EAAU,CAAI,OAAJ,eCbiB,SAACV,GAWlC,IACMW,EAAc,IAAIC,IADV,IAEdZ,EAAMa,SAAQ,qBAAGH,WACJG,SAAQ,SAACC,GACdH,EAAYI,IAAID,GAClBH,EAAYK,IAAIF,EAAUH,EAAYM,IAAIH,GAAY,GAEtDH,EAAYK,IAAIF,EAAU,EAJ9B,GADF,IASA,IAAMI,GAAUC,EAAAA,EAAAA,GAAIR,GAAaS,MAAK,SAACC,EAAGC,GAAJ,OAAUA,EAAE,GAAKD,EAAE,EAAzC,IACVE,EAAc,IAAIC,IAGxB,OAFAN,EAAQL,SAAQ,SAACC,GAAD,OAAcS,EAAYE,IAAIX,EAAS,GAAvD,IAEOS,CA1BF,CDayBG,CAAoB1B,KAC5C2B,EAAmBjB,EAAWkB,WAAU,SAACd,GAAD,MAA2B,QAAbA,CAAnC,IACzB,GAAgCe,EAAAA,EAAAA,WAA+B,IAAtBF,EAA0B,EAAIA,GAAhEG,EAAP,KAAiBC,EAAjB,KACMC,GAAmBC,EAAAA,EAAAA,cAAY,SAACC,EAAGC,GAAJ,OAAcJ,EAAYI,EAA3B,GAAmC,IAEvE,OACEC,EAAAA,cAACC,EAAAA,EAAD,KACED,EAAAA,cAACE,EAAAA,EAAD,CAAKC,MAAM,SACXH,EAAAA,cAACI,EAAAA,EAAD,CAAKhC,OAAQA,EAAQC,SAAUA,IAC/B2B,EAAAA,cAACK,EAAAA,EAAD,CACEzC,MAAOA,EACP0C,SAAUV,EACVW,KAAMjC,EACNoB,SAAUA,EACVc,gBAAc,IAIrB,C","sources":["webpack://zoomkoding.com/./src/pages/index.js","webpack://zoomkoding.com/./src/utils/helpers.js"],"sourcesContent":["import React, { useCallback, useState } from 'react';\nimport { graphql } from 'gatsby';\nimport Layout from '../layout';\nimport Seo from '../components/seo';\nimport Bio from '../components/bio';\nimport Post from '../models/post';\n\nimport { getUniqueCategories } from '../utils/helpers';\nimport PostTabs from '../components/post-tabs';\n\nfunction HomePage({ data }) {\n  const posts = data.allMarkdownRemark.edges.map(({ node }) => new Post(node));\n  const { author, language } = data.site.siteMetadata;\n  const categories = ['All', ...getUniqueCategories(posts)];\n  const featuredTabIndex = categories.findIndex((category) => category === 'All');\n  const [tabIndex, setTabIndex] = useState(featuredTabIndex === -1 ? 0 : featuredTabIndex);\n  const onTabIndexChange = useCallback((e, value) => setTabIndex(value), []);\n\n  return (\n    <Layout>\n      <Seo title=\"Home\" />\n      <Bio author={author} language={language} />\n      <PostTabs\n        posts={posts}\n        onChange={onTabIndexChange}\n        tabs={categories}\n        tabIndex={tabIndex}\n        showMoreButton\n      />\n    </Layout>\n  );\n}\n\nexport default HomePage;\n\nexport const pageQuery = graphql`\n  query {\n    allMarkdownRemark(sort: { fields: frontmatter___date, order: DESC }) {\n      edges {\n        node {\n          id\n          excerpt(pruneLength: 500, truncate: true)\n          frontmatter {\n            categories\n            title\n            date(formatString: \"MMMM DD, YYYY\")\n          }\n          fields {\n            slug\n          }\n        }\n      }\n    }\n\n    site {\n      siteMetadata {\n        language\n        author {\n          name\n          bio {\n            role\n            description\n            thumbnail\n          }\n          social {\n            github\n            email\n          }\n        }\n      }\n    }\n  }\n`;\n","export const getUniqueCategories = (posts) => {\n  // // Ver.Zoomkoding;\n  // const categorySet = new Set();\n  // posts.forEach(({ categories }) => categories.forEach((category) => categorySet.add(category)));\n  // return [...categorySet].sort((a, b) => {\n  //   if (a === 'featured') return -1;\n  //   if (b === 'featured') return 1;\n  //   return 0;\n  // });\n\n  // Ver. My\n  const array = [];\n  const categoryMap = new Map(array);\n  posts.forEach(({ categories }) =>\n    categories.forEach((category) => {\n      if (categoryMap.has(category)) {\n        categoryMap.set(category, categoryMap.get(category) + 1);\n      } else {\n        categoryMap.set(category, 1);\n      }\n    }),\n  );\n  const map2Arr = [...categoryMap].sort((a, b) => b[1] - a[1]);\n  const categorySet = new Set();\n  map2Arr.forEach((category) => categorySet.add(category[0]));\n\n  return categorySet;\n};\n"],"names":["data","posts","allMarkdownRemark","edges","map","node","Post","site","siteMetadata","author","language","categories","categoryMap","Map","forEach","category","has","set","get","map2Arr","_toConsumableArray","sort","a","b","categorySet","Set","add","getUniqueCategories","featuredTabIndex","findIndex","useState","tabIndex","setTabIndex","onTabIndexChange","useCallback","e","value","React","Layout","Seo","title","Bio","PostTabs","onChange","tabs","showMoreButton"],"sourceRoot":""}